# JS 迭代器和生成器

## 迭代器

实现了 Iterator 接口的对象被称为可迭代对象，在很多语言结构中会自动调用可迭代对象的工厂函数，创建一个迭代器

每次调用迭代器的`next()`方法，会返回`iteratorResult`对象。这个对象有`done`和`value`两个键，当`done`的值为`true`时，每次调用`next()`方法返回的值将不会改变

迭代器维护着对可迭代对象的一个引用，会阻止垃圾回收。同时可迭代对象在迭代期间改变，迭代器也会反映相应的变化

在自定义迭代器时，可以用`return()`方法指定迭代器提前关闭时的逻辑

## 生成器

在函数名称前加星号定义生成器（箭头函数不能定义生成器）

调用生成器函数会返回一个迭代器，具有`next()`方法。调用`next()`方法返回对象`value`键的值为生成器函数中使用`yield`关键字返回的值，可以在`yield`关键字后加星号增强其行为，让它可以迭代一个可迭代对象

生成器对象除`next()`和`return()`方法外，还具有`throw()`方法。错误未被生成器函数处理，则关闭生成器