# JS 数组

## Array

`Array.from()`方法将类数组结构转换为数组，接收可选的第二个参数，指定一个映射函数，接收可选的第三个参数，指定映射函数中`this`的值。`Array.of()`方法接收一组参数，转化为数组

对于**数组空位**，ES6 新增的方法普遍把空位当作值为`undefined`的元素。`map()`方法会跳过空位置，`join()`方法会将空位置看作空串

与`Object.keys()`不同，数组的原型方法`keys()`返回一个迭代器，且会包含缺失属性的键。`values()`与`entries()`方法同样返回迭代器

`fill()`方法替换指定范围内的值，返回新数组。会静默方向相反的索引。`copyWithin()`方法复制数组的一部分到另一个位置，返回新数组

`join()`接收一个字符串分隔符（默认为逗号），返回字符串

`push()`, `pop()`, `unshift()`, `shift()`方法修改原数组

`reserve()`返回反转后的数组

`sort()`方法默认将每一项转为字符串，将数组修改为升序。可以传入一个比较函数，希望第一个元素排在前面时返回负值，反之返回正值

`concat()`方法的参数是数组的话会进行打平，可以将参数数组的`[Symbol.isConcatSpreadable]`属性设为`false`阻止打平

`slice()`方法返回子数组，不修改源数组。`splice()`方法修改原数组，参数分别为起始索引、要删除元素数组以及插入元素，返回删除的元素构成的数组

`indexOf()`, `lastIndexOf()`, `include()`对指定元素在指定索引处开始遍历搜索（判断相等时不进行类型转换），前两个方法返回索引值，第三个方法返回布尔值

`find()`与`findIndex()`接收一个函数作为参数，函数的参数分别为元素值、索引和数组本身，返回返回真值则代表匹配。方法第二个参数可以指定`this`值

迭代方法接收一个函数，函数被数组的每一项调用，大多返回一个布尔值。`every()`方法在所有项返回`true`时返回`true`，`filter()`方法返回一个数组，内容是所有返回`true`的项，`forEach()`对每一项调用一遍函数，没有返回值，`map()`方法返回由调用结果构成的数组，`some()`方法只要有一项返回`true`则返回`true`

`reduce()`方法接收一个函数作为参数，第二个参数可以指定初始值。函数的参数分别为 prev, cur, index, array。`reduceRight()`与之类似

## 定型数组

用`ArrayBuffer()`构造函数在堆内存中分配空间，类似 C++ 中的`malloc()`方法，然后使用`DataView()`构造函数在 ArrayBuffer 实例上创建视图，可以全部或部分的使用 ArrayBuffer 分配到的空间

可以用 DataView 的实例方法对缓冲区数据进行读写时，由于需要指定数据类型，DataView 对每种类型都定义了不同的实例方法进行读写。DataView 的实例方法以大端字节序为默认值，但接收可选的布尔值参数，设置为`true`使用小端字节序

JS 中有特定某一种数据类型的 ArrayBuffer 视图，被称为定型数组。由于这种视图占用的字节数固定，可以直接使用普通数组进行初始化。定型数组可迭代，但不能使用`concat()`, `splice()`以及栈和队列方法