# JS 基本语法

## 严格模式

在脚本或者函数体的开头加上`'use strict'`使用严格模式

## 变量声明

`var`声明的变量处于函数作用域，存在变量提升，可以在变量声明语句前访问变量，但此时变量值为`undefined`。当省略关键字时会创建全局变量（严格模式下抛出错误）

`let`声明的变量处于块作用域，不存在变量提升，在声明语句之间引用变量名会抛出错误。不允许在同一个块中出现冗余声明

`const`与`let`关键字类似，但要求在声明变量的同时初始化变量。尝试修改声明的变量会抛出错误

## Symbol 类型

使用`Symbol()`函数初始化变量，可以使用字符串作为参数描述符号

`Symbol.for()`方法接收一个字符串作为参数，返回一个**全局符号注册表**中的符号。`Symbol.keyFor()`方法接收一个全局符号作为参数，返回该符号对应的描述

## 操作符

一元操作符放在变量前，变量值会在语句被求值之前改变，反之相反

位操作符有`~`(按位非), `&`(按位与), `|`(按位或), `^`(按位异或), `<<`(左移), `>>`(右移), `>>>`(有符号右移)

布尔操作符有`!`(逻辑非), `&&`(逻辑与), `||`(逻辑或)，布尔操作符具有短路特性

加性操作符在有字符串参与时则进行字符串拼接

关系操作符在有数值参与时执行数值比较，在`NaN`参与时始终返回`false`

相等操作符对`null`和`undefined`以外的操作符执行类型转换，`null`与`undefined`被相等操作符判断为相等

全等操作符不执行类型转换，相等操作符与全等操作符在`NaN`参与时均返回`false`

## 语句

for-in 语句枚举对象中非符号键属性，不保证枚举顺序。for-of 语句遍历可迭代对象的元素

标签语句可以配合`break`, `continue`关键字使用

with 语句在严格模式下不允许使用

switch 语句可以用于所有数据类型，判断时不进行类型转换

## 上下文

每个上下文都有一个关联的变量对象，全局上下文关联着全局变量对象

在函数执行时会创建新的上下文，这个上下文的活动对象被放入作用域链的前端

try-catch 语句中的 catch 块以及 with 语句都会在作用域链的前端添加新的对象

## 垃圾回收

JS 引擎自动周期性的进行垃圾回收，垃圾回收策略有标记清理和引用计数两种，当发生循环引用时可能导致无法进行垃圾回收

V8 引擎会将创建的对象与隐藏类相关联，能够共享相同隐藏类的对象性能会更好

意外声明全局变量、定时器中的回调函数、闭包都有可能造成内存泄漏

可以通过使用对象池来减少垃圾回收的次数